#!/bin/bash

if [[ "$1" != "" ]]; then
    if [[ "$1" == "-help" ]]; then
        echo -e "Usage: prog -repo -list <category_name>\n"
        exit 0
    else
        if [[ -f "Repository_Manager/src/.Update_Repositories/.Update_$1" && "$1" != "All" ]]; then
            text="Your categories structure : \n\n"
        else
            echo -e "Error: This category name does not exist -> $1\n"
            exit 1
        fi
    fi
fi

CAT="$1"

text+="     "$CAT" : \n"
repositories=$(sed -n 's/repositories=( //p' "Repository_Manager/src/.Update_Repositories/.Update_$CAT")
for repo in $repositories; do
    if [[ $repo != *")"* ]]; then
        Check_if_owner "$repo"
        text+="          $repo \n"
    fi
done